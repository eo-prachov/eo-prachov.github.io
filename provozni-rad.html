
<!DOCTYPE html>
<html lang="cs">
<head>
    <title>Provozn√≠ ≈ô√°d | Eko-O√°za Prachov</title>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Provozn√≠ a ubytovac√≠ ≈ô√°d pro chatovou osadu Eko-O√°za Prachov v ƒåesk√©m r√°ji.">
    <link rel="canonical" href="https://www.example.com/provozni-rad.html">
    <style>
        /* CSS is identical to index.html */
        :root{--primary-blue:#007bff;--text-color:#333;--background-color:#fff;--container-bg:#2570b8}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;background-color:var(--container-bg);color:var(--text-color);margin:0;padding:0;display:flex;justify-content:center;font-size:18px;line-height:1.6}.container{background-color:var(--background-color);width:960px;margin:20px;padding:0 20px 20px;box-shadow:0 0 15px rgba(0,0,0,.2)}header{padding:20px 0;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background-color:var(--background-color);z-index:100;border-bottom:1px solid #eee;box-shadow:0 2px 5px rgba(0,0,0,.05)}header h1{margin:0;font-size:28px}header h1 a{text-decoration:none;color:var(--text-color)}nav a{margin-left:15px;text-decoration:none;color:var(--primary-blue);font-weight:700;cursor:pointer}nav a:hover{text-decoration:underline}.info-box{border:1px solid #ccc;padding:15px;margin-bottom:20px;background-color:#f9f9f9}.info-box p{margin:5px 0}.gallery{display:flex;flex-wrap:wrap;gap:10px;margin:20px 0}.gallery img{flex:1 1 200px;max-width:23.5%;height:auto;object-fit:cover;cursor:pointer;transition:transform .2s ease-in-out,box-shadow .2s;display:block}.gallery img:hover{transform:scale(1.05);box-shadow:0 4px 8px rgba(0,0,0,.2)}.map-container{margin:20px 0}.map-container h3{margin-top:0}.map-embed{width:100%;height:450px;border:0}.price-table{width:100%;border-collapse:collapse;margin:20px 0}.price-table th,.price-table td{border:1px solid #ccc;padding:10px;text-align:left}.price-table th{background-color:#f2f2f2}.socials{text-align:center;margin:20px 0}footer{text-align:center;margin-top:20px;padding-top:10px;border-top:1px solid #ccc;font-size:14px;line-height:1.8}footer a{margin:0 5px}.bold{font-weight:700}.text-center{text-align:center}.text-right{text-align:right}.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:hidden;background-color:rgba(0,0,0,.9)}.modal-content-wrapper{position:relative;height:100%;width:100%;display:flex;align-items:center;justify-content:center;overflow:auto}.modal-content{margin:auto;display:block;max-width:90%;max-height:90%;transition:transform .3s ease-in-out;cursor:zoom-in}.modal-content.zoom-1{transform:scale(1.5);cursor:zoom-in}.modal-content.zoom-2{transform:scale(2.5);cursor:zoom-out}.close{position:absolute;top:15px;right:35px;color:#f1f1f1;font-size:40px;font-weight:700;transition:.3s;cursor:pointer;z-index:1001}.close:hover,.close:focus{color:#bbb}.prev,.next{cursor:pointer;position:absolute;top:50%;width:auto;padding:16px;margin-top:-50px;color:#fff;font-weight:700;font-size:30px;transition:.6s ease;border-radius:0 3px 3px 0;user-select:none;-webkit-user-select:none;z-index:1001}.next{right:0;border-radius:3px 0 0 3px}.prev{left:0}.prev:hover,.next:hover{background-color:rgba(0,0,0,.8)}#admin-toolbar{display:none;position:fixed;top:0;left:0;width:100%;background:#2c3e50;color:#fff;padding:10px;z-index:9999;box-shadow:0 2px 5px rgba(0,0,0,.3);text-align:center}#admin-toolbar button{background:#e74c3c;color:#fff;border:none;padding:8px 15px;cursor:pointer;border-radius:3px;margin:0 10px;font-size:16px}#admin-toolbar button:hover{background:#c0392b}.editable-text[contenteditable=true]{outline:2px dashed #3498db}#login-modal{display:none;position:fixed;z-index:10001;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6)}#login-modal form{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;max-width:400px;text-align:center;border-radius:5px}#login-modal input{width:90%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}#login-modal button{background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:90%}@media screen and (max-width:768px){body{font-size:16px}.container{width:100%;margin:0;padding:0 10px 10px;box-shadow:none}header{flex-direction:column;align-items:flex-start;position:static;box-shadow:none;padding:15px 0}header h1{margin-bottom:10px;font-size:24px}nav{display:flex;justify-content:space-around;width:100%}nav a{margin:5px 0;font-size:14px}.gallery img{max-width:48%;flex-basis:48%}.price-table,.price-table thead,.price-table tbody,.price-table th,.price-table td,.price-table tr{display:block}.price-table thead tr{position:absolute;top:-9999px;left:-9999px}.price-table tr{border:1px solid #ccc;margin-bottom:10px}.price-table td{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%;text-align:right;min-height:30px}.price-table td:before{content:attr(data-label);position:absolute;left:10px;width:45%;padding-right:10px;white-space:nowrap;text-align:left;font-weight:700}}
    </style>
</head>
<body>
    <div id="admin-toolbar">
        <span>üîë Admin Mode is Active</span>
        <button onclick="logout()">Logout</button>
    </div>
    <div id="login-modal">
        <form onsubmit="handleLogin(event)">
            <h2>Admin Login</h2>
            <input type="email" id="email" value="admin@e-o-p.cz" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit">Login</button>
            <p style="font-size: 12px; color: #777;">Press Esc to close</p>
        </form>
    </div>

    <div class="container">
        <header>
            <h1><a href="index.html">Eko-O√°za Prachov</a></h1>
            <nav id="nav-cs">
                <a href="index.html">√övod</a>
                <a href="zajimava-mista.html">Zaj√≠mav√° m√≠sta</a>
                <a onclick="switchLanguage('en')">English version</a>
            </nav>
            <nav id="nav-en" style="display:none;">
                <a href="index.html?lang=en">Home</a>
                <a href="zajimava-mista.html?lang=en">Places of interest</a>
                <a onclick="switchLanguage('cs')">ƒåesk√° verze</a>
            </nav>
        </header>

        <main>
            <div id="lang-cs">
                 <div class="info-box editable-text" data-field="cs-rules-info-box"><p>Chatov√° osada v ƒåesk√©m r√°ji, Prachov 58, provozovatel: Ing.Petr Hejna</p><p>IƒåO: 66314364</p><p>Provozn√≠ doba: ƒçervenec-srpen (jen po dohodƒõ s klientem)</p><p>ƒç.√∫. 19-6866210217/0100</p><p>tel.: <span class="bold">606 930 170 (nejl√©pe veƒçer)</span></p><p>e-mail: <a href="mailto:e-o-p@seznam.cz">e-o-p@seznam.cz</a></p><p>star√© str√°nky na: eo-prachov.cz</p></div>
                 <div class="editable-text" data-field="cs-rules-content"><h3>Provozn√≠ ≈ô√°d</h3><p>V z√°sadƒõ plat√≠ jednoduch√© pravidlo. Pobyt v t√©to mal√© chatov√© osadƒõ se ≈ô√≠d√≠ <span class="bold">z√°sadami lidsk√© slu≈°nosti a ohleduplnosti, rozumem</span> a <span class="bold">Ubytovac√≠m ≈ô√°dem</span>, kter√Ω je k dispozici v kuchy≈àce.</p><ul><li>V chatk√°ch se nesm√≠ kou≈ôit a p≈ôestavovat n√°bytek.</li><li>Na WC se do z√°chodov√Ωch m√≠s m√° vhazovat pouze toaletn√≠ pap√≠r. ƒåistiƒçka nedok√°≈æe rozlo≈æit jin√Ω materi√°l (nap≈ô. "pap√≠rov√©" kapesn√≠ƒçky, hygienick√© vlo≈æky, apod.).</li><li>V kuchy≈àce nedotahovat p≈ô√≠li≈°nou silou kohoutek tepl√© vody. Po dota≈æen√≠ mus√≠ tepl√° voda je≈°tƒõ trochu odt√©kat, po nƒõkolika vte≈ôin√°ch sama p≈ôestane t√©ct. (Jedn√° se o beztlakov√Ω syst√©m).</li></ul><h3 class="text-center">UBYTOVAC√ç ≈ò√ÅD</h3><p class="bold text-center">Ubytov√°n√≠ v t√©to mal√© chatov√© osadƒõ se ≈ô√≠d√≠ zejm√©na z√°sadami lidsk√© slu≈°nosti a ohleduplnosti, ale i n√°sleduj√≠c√≠mi pravidly.</p><p>Provozovatelem a vlastn√≠kem rekreaƒçn√≠ho st≈ôediska Eko-O√°za-Prachov (d√°le jen ‚ÄûEOP‚Äú), kter√© se nach√°z√≠ na adrese Prachov 58, 50601 Jiƒç√≠n, je fyzick√° osoba Ing.Petr Hejna, se s√≠dlem Komensk√©ho 59, 50601 Jiƒç√≠n, IƒåO:66314364, zapsan√° v ≈æivnostensk√©m rejst≈ô√≠ku veden√©m Mƒõstsk√Ωm √∫≈ôadem v Jiƒç√≠nƒõ, (d√°le jen ‚Äûubytovatel‚Äú).</p><p>Ka≈æd√Ω host je povinen sezn√°mit se s t√≠mto ubytovac√≠m ≈ô√°dem p≈ôed zah√°jen√≠m ubytov√°n√≠ a je povinen jej dodr≈æovat po celou dobu ubytov√°n√≠. V p≈ô√≠padƒõ, ≈æe hostem je nezletil√© d√≠tƒõ nebo mladistv√≠, je povinnost√≠ z√°konn√©ho z√°stupce, p≈ô√≠p. odpovƒõdn√© osoby sezn√°mit je, vzhledem k jeho rozumov√© a voln√≠ vyspƒõlosti, s ubytovac√≠m ≈ô√°dem a s pr√°vy a povinnostmi z ubytovac√≠ho ≈ô√°du vypl√Ωvaj√≠c√≠mi, a z bezpeƒçnostn√≠ch d≈Øvod≈Ø nenech√°vat nezletil√© d√≠tƒõ do 10ti let bez dozoru v are√°lu EOP.</p><p>V prostoru EOP se m≈Ø≈æe ubytovat pouze host, kter√° se ≈ô√°dnƒõ zaevidoval u ubytovatele, prok√°zal svou toto≈ænost pr≈Økazem toto≈ænosti a m√° zaplacenu sjednanou ƒç√°stku p≈ôevodem z √∫ƒçtu na √∫ƒçet. Ubytov√°n√≠ je povoleno pouze host≈Øm, kte≈ô√≠ nejsou posti≈æeni infekƒçn√≠mi nebo parazitn√≠mi nemocemi, ani jim nebyl na≈ô√≠zen zv√Ω≈°en√Ω zdravotn√≠ dozor nebo karant√©na.</p><p>Nebylo-li sjedn√°no jinak, n√°stup na ubytov√°ni je po 14:00hod., opu≈°tƒõni nejpozdƒõji do 10:00hod.</p><p>V dobƒõ od 22:00hod do 07:00hod je nutno dodr≈æovat noƒçn√≠ klid. Po dohodƒõ s ubytovatelem je mo≈æn√© veƒçerku posunout na pozdƒõj≈°√≠ hodinu. Host osobnƒõ p≈ôevezme a p≈ôed√° zpƒõt chatku ubytovateli s vr√°cen√≠m kl√≠ƒç≈Ø.</p><p>Psi nebo jin√° zv√≠≈ôata mohou b√Ωt p≈ô√≠tomna za p≈ôedpokladu, ≈æe host prok√°≈æe jejich zp≈Øsobil√Ω stav (oƒçkovac√≠ pr≈Økaz). Po celou dobu pobytu za zv√≠≈ôe odpov√≠d√° majitel. Zv√≠≈ôe nesm√≠ z≈Østat bez dozoru. Majitel√© zv√≠≈ôat jsou povinni zabezpeƒçit, aby zv√≠≈ôata nepob√≠hala po are√°lu volnƒõ, bez n√°hubku, a jsou povinni po sv√©m zv√≠≈ôeti ukl√≠zet. <span class="bold">Zv√≠≈ôata nesm√≠ sp√°t v posteli urƒçen√© pro span√≠ host≈Ø.</span></p><p>Ubytov√°n√≠, pohyb a pobyt osob po are√°lu EOP je <span class="bold">v√Ωhradnƒõ na vlastn√≠ nebezpeƒç√≠.</span> P≈ôi pobytu dƒõt√≠ a mladistv√≠ch je nutn√© db√°t zv√Ω≈°en√© opatrnosti. <span class="bold">Ubytovatel nenese zodpovƒõdnost za √∫jmu na zdrav√≠.</span></p><p>Parkov√°n√≠ je mo≈æn√© na ploch√°ch u chatek. <span class="bold">Je t≈ôeba zv√Ω≈°en√© opatrnosti p≈ôi j√≠zdƒõ mezi chatkami.</span></p><p>V ubytovac√≠ch prostor√°ch nesm√≠ b√Ωt bez souhlasu ubytovatele p≈ôem√≠s≈•ov√°n n√°bytek. V are√°lu EOP je zak√°z√°no k√°cen√≠ a o≈ôez√°v√°n√≠ jak√©koliv vegetace.</p><p>Plat√≠ p≈ô√≠sn√Ω z√°kaz kou≈ôen√≠ v chatk√°ch a cel√©m are√°lu mimo k tomu √∫ƒçelu vyhrazen√Ω prostor, no≈°en√≠ zbran√≠, p≈ôechov√°v√°n√≠ omamn√Ωch a psychotropn√≠ch l√°tek, jed≈Ø ƒçi jin√Ωch nebezpeƒçn√Ωch chemik√°li√≠ s v√Ωjimkou l√©ƒçiv√Ωch p≈ô√≠pravk≈Ø pro osobn√≠ pot≈ôebu hosta.</p><p>Ohe≈à je povoleno rozdƒõl√°vat pouze na vyhrazen√©m m√≠stƒõ, p≈ôi vhodn√Ωch klimatick√Ωch podm√≠nk√°ch, po p≈ôedchoz√≠m souhlasu ubytovatele, a u ohnƒõ mus√≠ b√Ωt osoba star≈°√≠ 18 let. Mus√≠ byt dodr≈æeny protipo≈æ√°rn√≠ p≈ôedpisy.</p><p>Host√© jsou povinni t≈ô√≠dit komun√°ln√≠ odpad, odkl√°dat jej do urƒçen√Ωch n√°dob jen na vyhraz√©m m√≠stƒõ.</p><p>Do WC m√≠sy pat≈ô√≠ <span class="bold">pouze toaletn√≠ pap√≠r</span> (rozlo≈æiteln√©. ƒçistiƒçkou). Ostatn√≠ pou≈æit√© hygienick√© pom≈Øcky pat≈ô√≠ do k tomu urƒçen√Ωch odpadkov√Ωch ko≈°≈Ø.</p><p>V kuchy≈àce <span class="bold">nedotahovat kohoutky silou</span> (p≈ôetlakov√Ω syst√©m). Voda se zastav√≠ po chvilce sama.</p><p><span class="bold">Ubytovatel neodpov√≠d√° nikomu za ztr√°tu a ≈°kodu majetku.</span> Z cennosti odpov√≠d√° z√°sadnƒõ host, vyjma tƒõch, kter√© se host√© u ubytovatele uschovaj√≠ proti podpisu o p≈ôevzet√≠ do √∫schovy.</p><p>Host je povinen dodr≈æovat ustanoven√≠ tohoto ubytovac√≠ho ≈ô√°du. V p≈ô√≠padƒõ, ≈æe ubytovac√≠ ≈ô√°d poru≈°√≠, m√° ubytovatel pr√°vo bez p≈ôedchoz√≠ho upozornƒõn√≠ ukonƒçit ubytov√°n√≠ p≈ôed uplynut√≠m dohodnut√© doby bez poskytnut√≠ jak√©koliv n√°hrady pro hosta.</p><p>Eko-O√°za-Prachov p≈ôeje p≈ô√≠jemn√Ω pobyt.</p><p class="text-right">Toto znƒõn√≠ ubytovac√≠ho ≈ô√°du plat√≠ od 1.1.2019</p><p class="text-right">Ing.Petr Hejna, majitel EOP</p><p><span class="bold">T√≠s≈àov√° vol√°n√≠ 112, Prvn√≠ pomoc 155, Hasiƒçi 150, Policie 158</span></p></div>
            </div>
            <div id="lang-en" style="display:none;">
                <div class="info-box editable-text" data-field="en-rules-info-box"><p>Cottage settlement in Bohemian Paradise, Prachov 58, operator: Ing.Petr Hejna</p><p>ID: 66314364</p><p>Opening hours: July-August (by appointment only)</p><p>Bank account: 19-6866210217/0100</p><p>tel.: <span class="bold">+420 606 930 170 (preferably in the evening)</span></p><p>e-mail: <a href="mailto:e-o-p@seznam.cz">e-o-p@seznam.cz</a></p><p>old website: eo-prachov.cz</p></div>
                <div class="editable-text" data-field="en-rules-content"><h3>Operating Rules</h3><p>Basically, a simple rule applies. The stay in this small cottage settlement is governed by the <span class="bold">principles of human decency and consideration, reason</span> and the <span class="bold">Accommodation Rules</span>, which are available in the kitchen.</p><ul><li>Smoking and rearranging furniture are not allowed in the cottages.</li><li>Only toilet paper should be thrown into the toilet bowls. The treatment plant cannot break down other materials (e.g., "paper" tissues, sanitary napkins, etc.).</li><li>Do not overtighten the hot water tap in the kitchen. After tightening, the hot water must still drip a little; it will stop on its own after a few seconds. (This is a non-pressurized system).</li></ul><h3 class="text-center">ACCOMMODATION RULES</h3><p class="bold text-center">Accommodation in this small cottage settlement is governed mainly by the principles of human decency and consideration, but also by the following rules.</p><p>The operator and owner of the recreational facility Eko-O√°za-Prachov (hereinafter "EOP"), located at Prachov 58, 50601 Jiƒç√≠n, is the natural person Ing.Petr Hejna, with his registered office at Komensk√©ho 59, 50601 Jiƒç√≠n, ID: 66314364, registered in the trade register kept by the Municipal Office in Jiƒç√≠n, (hereinafter "the accommodation provider").</p><p>Every guest is obliged to familiarize themselves with these accommodation rules before the start of their stay and is obliged to comply with them throughout their stay. If the guest is a minor child or adolescent, it is the duty of the legal guardian or responsible person to acquaint them, according to their mental and volitional maturity, with the accommodation rules and with the rights and obligations arising from the accommodation rules, and for safety reasons not to leave a child under 10 years of age unattended in the EOP area.</p><p>Only a guest who has duly registered with the accommodation provider, proved their identity with an identity card and has paid the agreed amount by bank transfer can be accommodated in the EOP area. Accommodation is only allowed for guests who are not suffering from infectious or parasitic diseases, nor have they been ordered to be under increased medical supervision or quarantine.</p><p>Unless otherwise agreed, check-in is after 2:00 PM, check-out is by 10:00 AM at the latest.</p><p>Quiet hours must be observed from 10:00 PM to 7:00 AM. By agreement with the accommodation provider, the curfew can be moved to a later hour. The guest personally takes over and hands back the cottage to the accommodation provider with the return of the keys.</p><p>Dogs or other animals may be present provided that the guest proves their eligible condition (vaccination certificate). The owner is responsible for the animal throughout the stay. The animal must not be left unattended. Pet owners are obliged to ensure that the animals do not run freely around the area without a muzzle, and are obliged to clean up after their animal. <span class="bold">Animals must not sleep in the bed intended for guests.</span></p><p>Accommodation, movement and stay of persons in the EOP area is <span class="bold">exclusively at their own risk.</span> When children and adolescents are staying, increased caution must be exercised. <span class="bold">The accommodation provider is not responsible for any personal injury.</span></p><p>Parking is possible on the areas near the cottages. <span class="bold">Increased caution is required when driving between the cottages.</span></p><p>Furniture may not be moved in the accommodation facilities without the consent of the accommodation provider. It is forbidden to cut and trim any vegetation in the EOP area.</p><p>There is a strict ban on smoking in the cottages and the entire area except for the designated space, carrying weapons, storing narcotics and psychotropic substances, poisons or other dangerous chemicals with the exception of medicinal products for the personal use of the guest.</p><p>Fires may only be lit in the designated place, under suitable climatic conditions, with the prior consent of the accommodation provider, and a person over 18 years of age must be present at the fire. Fire safety regulations must be observed.</p><p>Guests are required to sort municipal waste and dispose of it in the designated containers only in the designated place.</p><p>Only <span class="bold">toilet paper</span> (decomposable by the treatment plant) belongs in the toilet bowl. Other used sanitary items belong in the designated waste bins.</p><p>In the kitchen, <span class="bold">do not overtighten the taps</span> (overpressure system). The water will stop by itself after a while.</p><p><span class="bold">The accommodation provider is not responsible for any loss or damage to property.</span> The guest is solely responsible for valuables, except for those that the guest deposits with the accommodation provider against a signature of receipt.</p><p>The guest is obliged to comply with the provisions of these accommodation rules. In the event that the accommodation rules are violated, the accommodation provider has the right to terminate the stay without prior notice before the end of the agreed period without providing any compensation to the guest.</p><p>Eko-O√°za-Prachov wishes you a pleasant stay.</p><p class="text-right">This version of the accommodation rules is valid from 1.1.2019</p><p class="text-right">Ing.Petr Hejna, owner of EOP</p><p><span class="bold">Emergency calls 112, First aid 155, Firefighters 150, Police 158</span></p></div>
            </div>
        </main>
        
        <footer id="footer-cs">
             Spolupr√°ce: <a href="https://www.e-chalupy.cz/" target="_blank" rel="noopener noreferrer">e-chalupy.cz</a> <a href="https://www.levneubytovani.net/" target="_blank" rel="noopener noreferrer">LevneUbytovani.net</a> <a href="https://chalupy-ubytovani.cz/" target="_blank" rel="noopener noreferrer">chalupy-ubytovani.cz</a>
        </footer>
        <footer id="footer-en" style="display:none;">
            In cooperation with: <a href="https://www.e-chalupy.cz/" target="_blank" rel="noopener noreferrer">e-chalupy.cz</a> <a href="https://www.levneubytovani.net/" target="_blank" rel="noopener noreferrer">LevneUbytovani.net</a> <a href="https://chalupy-ubytovani.cz/" target="_blank" rel="noopener noreferrer">chalupy-ubytovani.cz</a>
        </footer>
    </div>

    <div id="myModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
        <div class="modal-content-wrapper" onclick="handleModalClick(event)">
             <img class="modal-content" id="img01" onclick="handleImageClick(event)">
        </div>
    </div>
    
    <!-- *** CORRECTED FIREBASE SCRIPTS *** -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <script id="main-script">
        // JavaScript is identical to index.html
        const firebaseConfig = {
          apiKey: "AIzaSyCuI9hhPtQMDkNqlQmmPfJRMWZWZFrT3hw",
          authDomain: "eko-oaza-website.firebaseapp.com",
          projectId: "eko-oaza-website",
          storageBucket: "eko-oaza-website.firebasestorage.app",
          messagingSenderId: "32000760259",
          appId: "1:32000760259:web:b6b797ca91de9bd7688576",
          measurementId: "G-0KLWHCEM16"
        };
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const modal = document.getElementById("myModal");
        const modalImg = document.getElementById("img01");
        const modalContentWrapper = document.querySelector(".modal-content-wrapper");
        let currentImageIndex, currentGalleryImages, isAdmin = false;
        const loginModal = document.getElementById('login-modal');
        const seoData = {
            cs: { title: "Provozn√≠ ≈ô√°d | Eko-O√°za Prachov", description: "Provozn√≠ a ubytovac√≠ ≈ô√°d pro chatovou osadu Eko-O√°za Prachov v ƒåesk√©m r√°ji." },
            en: { title: "Operating Rules | Eko-O√°za Prachov", description: "Operating and accommodation rules for the Eko-O√°za Prachov cottage settlement in Bohemian Paradise." }
        };
        function updateSEO(lang) {
            document.title = seoData[lang].title;
            document.querySelector('meta[name="description"]').setAttribute('content', seoData[lang].description);
        }
        function setLanguage(lang) {
            document.documentElement.lang = lang;
            document.getElementById('lang-cs').style.display = lang === 'cs' ? 'block' : 'none';
            document.getElementById('lang-en').style.display = lang === 'en' ? 'block' : 'none';
            document.getElementById('nav-cs').style.display = lang === 'cs' ? 'flex' : 'none';
            document.getElementById('nav-en').style.display = lang === 'en' ? 'flex' : 'none';
            document.getElementById('footer-cs').style.display = lang === 'cs' ? 'block' : 'none';
            document.getElementById('footer-en').style.display = lang === 'en' ? 'block' : 'none';
            updateSEO(lang);
        }
        function switchLanguage(lang) {
            const currentPage = window.location.pathname.split('/').pop() || 'index.html';
            window.location.href = `${currentPage}?lang=${lang}`;
        }
        function openModal(element) {
            if (isAdmin) return;
            const parentGallery = element.closest('.gallery');
            currentGalleryImages = Array.from(parentGallery.querySelectorAll('img'));
            currentImageIndex = currentGalleryImages.indexOf(element);
            modal.style.display = "block";
            document.body.style.overflow = 'hidden';
            showImage(currentImageIndex);
        }
        function showImage(index) {
            modalImg.src = currentGalleryImages[index].src;
            modalImg.alt = currentGalleryImages[index].alt;
            modalImg.className = 'modal-content';
            modalContentWrapper.scrollTop = 0;
            modalContentWrapper.scrollLeft = 0;
        }
        function closeModal() {
            modal.style.display = "none";
            document.body.style.overflow = 'auto';
        }
        function plusSlides(n) {
            currentImageIndex = (currentImageIndex + n + currentGalleryImages.length) % currentGalleryImages.length;
            showImage(currentImageIndex);
        }
        function handleImageClick(event) {
            event.stopPropagation();
            const img = event.target;
            if (img.classList.contains('zoom-2')) {
                img.classList.remove('zoom-2', 'zoom-1');
            } else if (img.classList.contains('zoom-1')) {
                img.classList.add('zoom-2');
            } else {
                img.classList.add('zoom-1');
            }
        }
        function handleModalClick(event) {
            if (event.target === modalContentWrapper) closeModal();
        }
        auth.onAuthStateChanged(user => {
            isAdmin = !!user;
            if (isAdmin) {
                enableAdminMode();
                runInitialSetup(); 
            } else {
                disableAdminMode();
            }
        });
        async function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            try {
                await auth.signInWithEmailAndPassword(email, password);
                loginModal.style.display = 'none';
            } catch (error) {
                alert('Login failed: ' + error.message);
            }
        }
        async function logout() {
            await auth.signOut();
            location.reload();
        }
        function enableAdminMode() {
            document.getElementById('admin-toolbar').style.display = 'block';
            document.querySelectorAll('.editable-text').forEach(el => {
                el.contentEditable = true;
                el.addEventListener('blur', (e) => saveText(e.target));
            });
        }
        function disableAdminMode() {
            document.getElementById('admin-toolbar').style.display = 'none';
            document.querySelectorAll('.editable-text').forEach(el => el.contentEditable = false);
        }
        async function saveText(element) {
            const fieldId = element.dataset.field;
            const content = element.innerHTML;
            const docId = fieldId.startsWith('cs-') ? 'cs' : 'en';
            try {
                await db.collection('content').doc(docId).set({ [fieldId]: content }, { merge: true });
            } catch (error) {
                console.error("Error saving text:", error);
                alert("Could not save changes. Please check your connection and try again.");
            }
        }
        async function loadContent() {
            const loadDataForLang = async (lang) => {
                try {
                    const doc = await db.collection('content').doc(lang).get();
                    if (doc.exists) {
                        const data = doc.data();
                        document.querySelectorAll(`[data-field]`).forEach(el => {
                            if(el.dataset.field.startsWith(lang)) {
                                if (data[el.dataset.field]) el.innerHTML = data[el.dataset.field];
                            }
                        });
                    }
                } catch (error) {
                    console.error("Error loading content for " + lang + ":", error);
                }
            };
            await Promise.all([loadDataForLang('cs'), loadDataForLang('en')]);
        }
        async function runInitialSetup() {
            const setupFlagRef = db.collection('internal').doc('setup');
            const setupDoc = await setupFlagRef.get();
            if (setupDoc.exists && setupDoc.data().completed) {
                return;
            }
            const allContent = {};
            document.querySelectorAll('.editable-text').forEach(el => {
                const fieldId = el.dataset.field;
                const content = el.innerHTML;
                const lang = fieldId.startsWith('cs-') ? 'cs' : 'en';
                if (!allContent[lang]) allContent[lang] = {};
                allContent[lang][fieldId] = content;
            });
            try {
                if(allContent['cs']) await db.collection('content').doc('cs').set(allContent['cs'], {merge: true});
                if(allContent['en']) await db.collection('content').doc('en').set(allContent['en'], {merge: true});
                await setupFlagRef.set({ completed: true });
                alert("Initial content saved to database successfully!");
            } catch(error) {
                console.error("Initial setup failed:", error);
                alert("The initial setup failed. Please check the console for errors.");
            }
        }
        document.addEventListener('keydown', (event) => {
            if (event.ctrlKey && event.key === 'l') {
                event.preventDefault();
                loginModal.style.display = 'block';
                document.getElementById('password').focus();
            }
            if (event.key === "Escape") {
                if (modal.style.display === "block") closeModal();
                if (loginModal.style.display === 'block') loginModal.style.display = 'none';
            }
            if (modal.style.display === "block") {
                if (event.key === "ArrowLeft") plusSlides(-1);
                else if (event.key === "ArrowRight") plusSlides(1);
            }
        });
        document.addEventListener('DOMContentLoaded', async () => {
            const urlParams = new URLSearchParams(window.location.search);
            const lang = urlParams.get('lang') || 'cs';
            setLanguage(lang);
            await loadContent();
        });
    </script>
</body>
</html>