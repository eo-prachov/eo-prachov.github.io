<!DOCTYPE html>
<html lang="cs">
<head>
    <title>Provozní řád | Eko-Oáza Prachov</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Provozní a ubytovací řád.">
    <link rel="canonical" href="https://www.e-o-p.unas.cz/provozni-rad.html">
    <style>
        :root{--primary-blue:#007bff;--text-color:#333;--background-color:#fff;--container-bg:#2570b8}
        *, *:before, *:after { box-sizing: border-box; }
        body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;background-color:var(--container-bg);color:var(--text-color);margin:0;padding:0;display:flex;justify-content:center;font-size:18px;line-height:1.6}
        
        .container{
            background-color:var(--background-color);
            width:100%;
            max-width:1200px;
            margin:20px;
            padding:20px;
            box-shadow:0 0 15px rgba(0,0,0,.2); 
            display: flex;
            flex-direction: column;
        }

        header{padding:20px 0;margin-bottom:20px;display:flex;justify-content:space-between;align-items:center;position:sticky;top:0;background-color:var(--background-color);z-index:100;border-bottom:1px solid #eee;box-shadow:0 2px 5px rgba(0,0,0,.05)}
        header h1{margin:0;font-size:28px}
        header h1 a{text-decoration:none;color:var(--text-color)}
        nav a{margin-left:15px;text-decoration:none;color:var(--primary-blue);font-weight:700;cursor:pointer}
        nav a:hover{text-decoration:underline}
        
        .info-box{border:1px solid #ccc;padding:15px;margin-bottom:20px;background-color:#f9f9f9}
        .info-box p{margin:5px 0}
        .bold{font-weight:700}.text-center{text-align:center}.text-right{text-align:right}
        
        .text-justify { text-align: justify; }

        .editable-text { 
            width: 100%;
            overflow-wrap: anywhere;
            word-wrap: break-word; 
            word-break: break-word; 
            hyphens: auto;
            max-width: 100%;
        }

        .modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;overflow:hidden;background-color:rgba(0,0,0,.9)}.modal-content-wrapper{position:relative;height:100%;width:100%;display:flex;align-items:center;justify-content:center;overflow:auto}.modal-content{margin:auto;display:block;max-width:90%;max-height:90%;transition:transform .3s ease-in-out;cursor:zoom-in}.modal-content.zoom-1{transform:scale(1.5);cursor:zoom-in}.modal-content.zoom-2{transform:scale(2.5);cursor:zoom-out}.close{position:absolute;top:15px;right:35px;color:#f1f1f1;font-size:40px;font-weight:700;transition:.3s;cursor:pointer;z-index:1001}.close:hover,.close:focus{color:#bbb}.prev,.next{cursor:pointer;position:absolute;top:50%;width:auto;padding:16px;margin-top:-50px;color:#fff;font-weight:700;font-size:30px;transition:.6s ease;border-radius:0 3px 3px 0;user-select:none;-webkit-user-select:none;z-index:1001}.next{right:0;border-radius:3px 0 0 3px}.prev{left:0}.prev:hover,.next:hover{background-color:rgba(0,0,0,.8)}
        footer{text-align:center;margin-top:20px;padding-top:10px;border-top:1px solid #ccc;font-size:14px;line-height:1.8}footer a{margin:0 5px}
        
        #admin-toolbar{display:none;position:fixed;top:0;left:0;width:100%;background:#2c3e50;color:#fff;padding:10px;z-index:9999;box-shadow:0 2px 5px rgba(0,0,0,.3);text-align:center; flex-wrap: wrap; justify-content: center;}
        #admin-toolbar button{background:#3498db;color:#fff;border:none;padding:8px 15px;cursor:pointer;border-radius:3px;margin:5px;font-size:14px}
        #admin-toolbar button:hover{background:#2980b9}
        #admin-toolbar button#save-btn{background:#27ae60}
        #admin-toolbar button#save-btn:hover{background:#229954}
        #admin-toolbar button#upload-restore-btn{background:#8e44ad}
        #admin-toolbar button#upload-restore-btn:hover{background:#732d91}
        #admin-toolbar button#logout-btn{background:#e74c3c}
        #admin-toolbar button#logout-btn:hover{background:#c0392b}

        .editable-text[contenteditable=true]{outline:2px dashed #3498db}
        #login-modal{display:none;position:fixed;z-index:10001;left:0;top:0;width:100%;height:100%;background-color:rgba(0,0,0,.6)}
        #login-modal form{background-color:#fefefe;margin:15% auto;padding:20px;border:1px solid #888;width:80%;max-width:400px;text-align:center;border-radius:5px}
        #login-modal input{width:90%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}
        #login-modal button{background-color:#4caf50;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:90%}.delete-mode .editable-text{outline:2px dashed red;cursor:crosshair}.delete-mode .editable-text:hover{background-color:#ff000020}
        
        @media screen and (max-width:768px){
            body{font-size:16px}
            .container{margin:0;padding:10px;box-shadow:none}
            header{flex-direction:column;align-items:flex-start;position:static;box-shadow:none;padding:15px 0}
            header h1{margin-bottom:10px;font-size:24px}
            nav{display:flex;justify-content:space-around;width:100%}
            nav a{margin:5px 0;font-size:14px}
        }
    </style>
</head>
<body>
    <div id="admin-toolbar">
        <span>Režim úprav</span>
        <button id="save-btn" onclick="saveAllChanges()">Uložit změny (WEB -> DB)</button>
        <button id="upload-restore-btn" onclick="forceUploadRESTORE()">Nahrát ZÁLOŽNÍ Data (CODE -> DB)</button>
        <button onclick="addTextBox()">+ Přidat text</button>
        <button id="delete-mode-btn" onclick="toggleDeleteMode()">Smazat text</button>
        <button id="logout-btn" onclick="logout()">Odhlásit se</button>
    </div>
    <div id="login-modal">
        <form onsubmit="handleLogin(event)">
            <h2>Admin Login</h2>
            <input type="email" id="email" value="admin@e-o-p.cz" required>
            <input type="password" id="password" placeholder="Heslo" required>
            <button type="submit">Přihlásit se</button>
            <p style="font-size: 12px; color: #777;">Pro zavření stiskněte Esc</p>
        </form>
    </div>

    <div class="container">
        <header>
            <h1><a id="logo-link" href="index.html">Eko-Oáza Prachov</a></h1>
            <nav id="nav-cs">
                <a href="index.html">Úvod</a>
                <a href="zajimava-mista.html">Zajímavá místa</a>
                <a onclick="switchLanguage('en')">English version</a>
            </nav>
            <nav id="nav-en" style="display:none;">
                <a href="index.html?lang=en">Home</a>
                <a href="zajimava-mista.html?lang=en">Places of interest</a>
                <a onclick="switchLanguage('cs')">Česká verze</a>
            </nav>
        </header>

        <main id="main-content">
            <div id="lang-cs">
                 <div class="info-box editable-text" data-field="cs-rules-info-box"></div>
                 <div class="editable-text text-justify" data-field="cs-rules-content"></div>
            </div>
            <div id="lang-en" style="display:none;">
                <div class="info-box editable-text" data-field="en-rules-info-box"></div>
                <div class="editable-text text-justify" data-field="en-rules-content"></div>
            </div>
        </main>
        
        <footer id="footer-cs">
             Spolupráce: <a href="https://www.e-chalupy.cz/" target="_blank">e-chalupy.cz</a> <a href="https://www.levneubytovani.net/" target="_blank">LevneUbytovani.net</a> <a href="https://chalupy-ubytovani.cz/" target="_blank">chalupy-ubytovani.cz</a>
        </footer>
        <footer id="footer-en" style="display:none;">
            Cooperation with: <a href="https://www.e-chalupy.cz/" target="_blank">e-chalupy.cz</a> <a href="https://www.levneubytovani.net/" target="_blank">LevneUbytovani.net</a> <a href="https://chalupy-ubytovani.cz/" target="_blank">chalupy-ubytovani.cz</a>
        </footer>
    </div>
    
    <div id="myModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
        <div class="modal-content-wrapper" onclick="handleModalClick(event)">
             <img class="modal-content" id="img01" onclick="handleImageClick(event)">
        </div>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <script id="main-script">
        const firebaseConfig = { apiKey: "AIzaSyCuI9hhPtQMDkNqlQmmPfJRMWZWZFrT3hw", authDomain: "eko-oaza-website.firebaseapp.com", projectId: "eko-oaza-website", storageBucket: "eko-oaza-website.firebasestorage.app", messagingSenderId: "32000760259", appId: "1:32000760259:web:b6b797ca91de9bd7688576", measurementId: "G-0KLWHCEM16" };
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();
        const modal = document.getElementById("myModal");
        const modalImg = document.getElementById("img01");
        const modalContentWrapper = document.querySelector(".modal-content-wrapper");
        let currentImageIndex, currentGalleryImages, isAdmin = false;
        let unsavedChanges = false;
        const loginModal = document.getElementById('login-modal');
        const seoData = { cs: { title: "Provozní řád | Eko-Oáza Prachov", description: "Provozní a ubytovací řád." }, en: { title: "Operating Rules | Eko-Oáza Prachov", description: "Operating and accommodation rules." } };

        const RESTORE_DATA = {
            'provozni-rad_en': {
                'en-rules-info-box': `<p>Cottage settlement in Bohemian Paradise, Prachov 58, operator: Ing.Petr Hejna</p><p>ID: 66314364</p><p>Opening hours: July-August (by appointment only)</p><p>Bank account: 19-6866210217/0100</p><p>tel.: <span class="bold">+420 606 930 170 (preferably in the evening)</span></p><p>e-mail: <a href="mailto:e-o-p@seznam.cz">e-o-p@seznam.cz</a></p><p>old website: eo-prachov.cz</p>`,
                'en-rules-content': `<h3>Operating Rules</h3><p>Basically, a simple rule applies. The stay in this small cottage settlement is governed by the <span class="bold">principles of human decency and consideration, reason</span> and the <span class="bold">Accommodation Rules</span>, which are available in the kitchen.</p><ul><li>Smoking and rearranging furniture are not allowed in the cottages.</li><li>Only toilet paper should be thrown into the toilet bowls. The treatment plant cannot break down other materials (e.g., "paper" tissues, sanitary napkins, etc.).</li><li>Do not overtighten the hot water tap in the kitchen. After tightening, the hot water must still drip a little; it will stop on its own after a few seconds. (This is a non-pressurized system).</li></ul><h3 class="text-center">ACCOMMODATION RULES</h3><p class="bold text-center">Accommodation in this small cottage settlement is governed mainly by the principles of human decency and consideration, but also by the following rules.</p><p>The operator and owner of the recreational facility Eko-Oáza-Prachov (hereinafter "EOP"), located at Prachov 58, 50601 Jičín, is the natural person Ing.Petr Hejna, with his registered office at Komenského 59, 50601 Jičín, ID: 66314364, registered in the trade register kept by the Municipal Office in Jičín, (hereinafter "the accommodation provider").</p><p>Every guest is obliged to familiarize themselves with these accommodation rules before the start of their stay and is obliged to comply with them throughout their stay. If the guest is a minor child or adolescent, it is the duty of the legal guardian or responsible person to acquaint them, according to their mental and volitional maturity, with the accommodation rules and with the rights and obligations arising from the accommodation rules, and for safety reasons not to leave a child under 10 years of age unattended in the EOP area.</p><p>Only a guest who has duly registered with the accommodation provider, proved their identity with an identity card and has paid the agreed amount by bank transfer can be accommodated in the EOP area. Accommodation is only allowed for guests who are not suffering from infectious or parasitic diseases, nor have they been ordered to be under increased medical supervision or quarantine.</p><p>Unless otherwise agreed, check-in is after 2:00 PM, check-out is by 10:00 AM at the latest.</p><p>Quiet hours must be observed from 10:00 PM to 7:00 AM. By agreement with the accommodation provider, the curfew can be moved to a later hour. The guest personally takes over and hands back the cottage to the accommodation provider with the return of the keys.</p><p>Dogs or other animals may be present provided that the guest proves their eligible condition (vaccination certificate). The owner is responsible for the animal throughout the stay. The animal must not be left unattended. Pet owners are obliged to ensure that the animals do not run freely around the area without a muzzle, and are obliged to clean up after their animal. <span class="bold">Animals must not sleep in the bed intended for guests.</span></p><p>Accommodation, movement and stay of persons in the EOP area is <span class="bold">exclusively at their own risk.</span> When children and adolescents are staying, increased caution must be exercised. <span class="bold">The accommodation provider is not responsible for any personal injury.</span></p><p>Parking is possible on the areas near the cottages. <span class="bold">Increased caution is required when driving between the cottages.</span></p><p>Furniture may not be moved in the accommodation facilities without the consent of the accommodation provider. It is forbidden to cut and trim any vegetation in the EOP area.</p><p>There is a strict ban on smoking in the cottages and the entire area except for the designated space, carrying weapons, storing narcotics and psychotropic substances, poisons or other dangerous chemicals with the exception of medicinal products for the personal use of the guest.</p><p>Fires may only be lit in the designated place, under suitable climatic conditions, with the prior consent of the accommodation provider, and a person over 18 years of age must be present at the fire. Fire safety regulations must be observed.</p><p>Guests are required to sort municipal waste and dispose of it in the designated containers only in the designated place.</p><p>Only <span class="bold">toilet paper</span> (decomposable by the treatment plant) belongs in the toilet bowl. Other used sanitary items belong in the designated waste bins.</p><p>In the kitchen, <span class="bold">do not overtighten the taps</span> (overpressure system). The water will stop by itself after a while.</p><p><span class="bold">The accommodation provider is not responsible for any loss or damage to property.</span> The guest is solely responsible for valuables, except for those that the guest deposits with the accommodation provider against a signature of receipt.</p><p>The guest is obliged to comply with the provisions of these accommodation rules. In the event that the accommodation rules are violated, the accommodation provider has the right to terminate the stay without prior notice before the end of the agreed period without providing any compensation to the guest.</p><p>Eko-Oáza-Prachov wishes you a pleasant stay.</p><p class="text-right">This version of the accommodation rules is valid from 1.1.2019</p><p class="text-right">Ing.Petr Hejna, owner of EOP</p><p><span class="bold">Emergency calls 112, First aid 155, Firefighters 150, Police 158</span></p>`
            }
        };

        function getPageDocId(lang) { const path = window.location.pathname; const page = path.split("/").pop().replace(".html", "") || "index"; return `${page}_${lang}`; }
        function updateSEO(lang) { document.title = seoData[lang].title; document.querySelector('meta[name="description"]').setAttribute('content', seoData[lang].description); }
        
        function setLanguage(lang) { 
            document.documentElement.lang = lang; 
            document.getElementById('lang-cs').style.display = lang === 'cs' ? 'block' : 'none'; 
            document.getElementById('lang-en').style.display = lang === 'en' ? 'block' : 'none'; 
            document.getElementById('nav-cs').style.display = lang === 'cs' ? 'flex' : 'none'; 
            document.getElementById('nav-en').style.display = lang === 'en' ? 'flex' : 'none'; 
            document.getElementById('footer-cs').style.display = lang === 'cs' ? 'block' : 'none'; 
            document.getElementById('footer-en').style.display = lang === 'en' ? 'block' : 'none'; 
            
            const logoLink = document.getElementById('logo-link');
            if(logoLink) {
                if(lang === 'en') {
                    logoLink.href = "index.html?lang=en";
                } else {
                    logoLink.href = "index.html";
                }
            }

            updateSEO(lang); 
            fetchFromDB();
        }
        
        function switchLanguage(lang) { if(checkUnsavedChanges()) { const currentPage = window.location.pathname.split('/').pop() || 'index.html'; window.location.href = `${currentPage}?lang=${lang}`; } }
        function openModal(element) { if (isAdmin) return; const parentGallery = element.closest('.gallery'); currentGalleryImages = Array.from(parentGallery.querySelectorAll('img')); currentImageIndex = currentGalleryImages.indexOf(element); modal.style.display = "block"; document.body.style.overflow = 'hidden'; showImage(currentImageIndex); }
        function showImage(index) { modalImg.src = currentGalleryImages[index].src; modalImg.alt = currentGalleryImages[index].alt; modalImg.className = 'modal-content'; modalContentWrapper.scrollTop = 0; modalContentWrapper.scrollLeft = 0; }
        function closeModal() { modal.style.display = "none"; document.body.style.overflow = 'auto'; }
        function plusSlides(n) { currentImageIndex = (currentImageIndex + n + currentGalleryImages.length) % currentGalleryImages.length; showImage(currentImageIndex); }
        function handleImageClick(event) { event.stopPropagation(); const img = event.target; if (img.classList.contains('zoom-2')) { img.classList.remove('zoom-2', 'zoom-1'); } else if (img.classList.contains('zoom-1')) { img.classList.add('zoom-1'); } else { img.classList.add('zoom-1'); } }
        function handleModalClick(event) { if (event.target === modalContentWrapper) closeModal(); }
        
        auth.onAuthStateChanged(user => { 
            isAdmin = !!user; 
            if (isAdmin) { enableAdminMode(); } 
            else { 
                disableAdminMode();
                fetchFromDB();
                setTimeout(fetchFromDB, 500);
                setTimeout(fetchFromDB, 1000);
                setInterval(() => { if(!isAdmin) fetchFromDB(); }, 10000); 
            } 
        });
        
        async function handleLogin(event) { event.preventDefault(); const email = document.getElementById('email').value; const password = document.getElementById('password').value; try { await auth.signInWithEmailAndPassword(email, password); loginModal.style.display = 'none'; } catch (error) { alert('Login failed: ' + error.message); } }
        async function logout() { if(checkUnsavedChanges()) { await auth.signOut(); location.reload(); } }
        
        window.addEventListener('beforeunload', function (e) { if (unsavedChanges) { e.preventDefault(); e.returnValue = ''; } });
        function checkUnsavedChanges() { if (unsavedChanges) { return confirm("Máte neuložené změny! Opravdu chcete odejít bez uložení? / Unsaved changes! Leave anyway?"); } return true; }

        function enableAdminMode() { 
            document.body.classList.add('admin-mode'); 
            document.getElementById('admin-toolbar').style.display = 'flex'; 
            document.querySelectorAll('.editable-text').forEach(el => { 
                el.contentEditable = true; 
                el.addEventListener('input', () => { unsavedChanges = true; });
            }); 
        }
        function disableAdminMode() { 
            document.body.classList.remove('admin-mode'); 
            document.body.classList.remove('delete-mode'); 
            document.getElementById('admin-toolbar').style.display = 'none'; 
            document.querySelectorAll('.editable-text').forEach(el => { el.contentEditable = false; }); 
        }

        async function forceUploadRESTORE() {
            if(!confirm("OPRAVDU chcete přepsat databázi daty z kódu? Použijte jen pokud je web prázdný.")) return;
            const lang = document.documentElement.lang;
            const docId = getPageDocId(lang);
            const dataToSeed = RESTORE_DATA[docId];
            
            if (!dataToSeed) {
                alert("Pro tuto stránku nejsou připravena žádná záložní data (Code is empty for this page).");
                return;
            }

            try {
                await db.collection('content').doc(docId).set(dataToSeed);
                alert("Data úspěšně nahrána z kódu do databáze! Obnovte stránku.");
                location.reload();
            } catch (error) {
                console.error("Error seeding:", error);
                alert("Chyba při nahrávání.");
            }
        }

        async function saveAllChanges() {
            const promises = [];
            document.querySelectorAll('.editable-text').forEach(element => {
                const fieldId = element.dataset.field;
                if (!fieldId) return;
                const content = element.innerHTML;
                const lang = fieldId.startsWith('cs-') ? 'cs' : 'en';
                const docId = getPageDocId(lang);
                const promise = db.collection('content').doc(docId).set({ [fieldId]: content }, { merge: true });
                promises.push(promise);
            });
            try {
                await Promise.all(promises);
                unsavedChanges = false;
                alert('Stránka uložena do databáze! / Page saved to DB! ♡');
            } catch (error) { console.error("Error saving:", error); alert("Error saving."); }
        }

        async function loadContent() {
            fetchFromDB();
        }

        async function fetchFromDB() {
            if (isAdmin && document.querySelector('.editable-text').innerHTML.trim().length > 0) {
                return;
            }

            const lang = document.documentElement.lang;
            const docId = getPageDocId(lang);
            try {
                const doc = await db.collection('content').doc(docId).get();
                if (doc.exists) {
                    const data = doc.data();
                    if (Object.keys(data).length === 0) {
                        const dataToSeed = RESTORE_DATA[docId];
                        if (dataToSeed) {
                             await db.collection('content').doc(docId).set(dataToSeed);
                             renderData(dataToSeed);
                        }
                    } else {
                        if (!isAdmin) renderData(data);
                    }
                } else {
                    const dataToSeed = RESTORE_DATA[docId];
                    if (dataToSeed) {
                         await db.collection('content').doc(docId).set(dataToSeed);
                         renderData(dataToSeed);
                    }
                }
            } catch (error) { console.error("Error fetching DB: " + error); }
        }

        function renderData(data) {
            const lang = document.documentElement.lang;
            const mainContentContainer = document.getElementById(`lang-${lang}`);
            Object.keys(data).forEach(fieldId => {
                let element = document.querySelector(`[data-field="${fieldId}"]`);
                if (!element && fieldId.includes('-custom-')) {
                    element = document.createElement('p');
                    element.classList.add('editable-text');
                    element.dataset.field = fieldId;
                    mainContentContainer.appendChild(element);
                    if (isAdmin) {
                        element.contentEditable = true;
                        element.addEventListener('input', () => { unsavedChanges = true; });
                    }
                }
                if (element && data[fieldId]) {
                    if(element.innerHTML !== data[fieldId]) { element.innerHTML = data[fieldId]; }
                }
            });
        }

        function addTextBox() { const lang = document.documentElement.lang; const newId = `${lang}-custom-${Date.now()}`; const newTextBox = document.createElement('p'); newTextBox.classList.add('editable-text'); newTextBox.dataset.field = newId; newTextBox.textContent = '...'; const mainContent = document.getElementById(`lang-${lang}`); mainContent.appendChild(newTextBox); if(isAdmin) { newTextBox.contentEditable = true; newTextBox.focus(); unsavedChanges = true; newTextBox.addEventListener('input', () => { unsavedChanges = true; }); } }
        function toggleDeleteMode() { const body = document.body; body.classList.toggle('delete-mode'); const btn = document.getElementById('delete-mode-btn'); if (body.classList.contains('delete-mode')) { btn.textContent = 'Ukončit mazání'; btn.style.background = 'orange'; } else { btn.textContent = 'Smazat text'; btn.style.background = '#3498db'; } }
        document.getElementById('main-content').addEventListener('click', async function(event) { if (!document.body.classList.contains('delete-mode')) return; const element = event.target.closest('.editable-text'); if (element) { event.preventDefault(); event.stopPropagation(); if (confirm('Delete this?')) { const fieldId = element.dataset.field; const lang = fieldId.startsWith('cs-') ? 'cs' : 'en'; const docId = getPageDocId(lang); try { const fieldToDelete = {}; fieldToDelete[fieldId] = firebase.firestore.FieldValue.delete(); await db.collection('content').doc(docId).update(fieldToDelete); element.remove(); unsavedChanges = false; } catch (error) { console.error("Error deleting:", error); } } } });
        document.addEventListener('keydown', (event) => { if (event.ctrlKey && event.key === 'l') { event.preventDefault(); loginModal.style.display = 'block'; document.getElementById('password').focus(); } if (event.key === "Escape") { if (modal.style.display === "block") closeModal(); if (loginModal.style.display === 'block') loginModal.style.display = 'none'; } });
        document.querySelectorAll('a').forEach(link => { link.addEventListener('click', (e) => { const href = link.getAttribute('href'); if (href && !href.startsWith('#') && !href.startsWith('mailto:') && !link.onclick) { if (!checkUnsavedChanges()) { e.preventDefault(); } } }); });
        document.addEventListener('DOMContentLoaded', async () => { const urlParams = new URLSearchParams(window.location.search); const lang = urlParams.get('lang') || 'cs'; setLanguage(lang); await loadContent(); });
    </script>
</body>
</html>