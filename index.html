<!DOCTYPE html>
<html lang="cs">
<head>
    <title>Ubytov√°n√≠ Chaty Eko-O√°za Prachov | Dovolen√° v ƒåesk√©m r√°ji</title>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Nab√≠z√≠me levn√© ubytov√°n√≠ v chatk√°ch pro rodiny s dƒõtmi v srdci ƒåesk√©ho r√°je. Eko-O√°za Prachov je ide√°ln√≠ m√≠sto pro va≈°i dovolenou u Prachovsk√Ωch skal.">
    <meta name="keywords" content="ubytov√°n√≠, chaty, ƒåesk√Ω r√°j, Prachovsk√© sk√°ly, dovolen√°, Jiƒç√≠n, levn√© ubytov√°n√≠, rodiny s dƒõtmi, Eko-O√°za Prachov">
    <link rel="canonical" href="https://www.example.com/">

    <meta property="og:title" content="Ubytov√°n√≠ Chaty Eko-O√°za Prachov | ƒåesk√Ω r√°j">
    <meta property="og:description" content="Dovolen√° v chatk√°ch pro rodiny s dƒõtmi v srdci ƒåesk√©ho r√°je, u Prachovsk√Ωch skal.">
    <meta property="og:image" content="https://www.example.com/obrazky/1.png">
    <meta property="og:url" content="https://www.example.com/">
    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Ubytov√°n√≠ Chaty Eko-O√°za Prachov | ƒåesk√Ω r√°j">
    <meta name="twitter:description" content="Dovolen√° v chatk√°ch pro rodiny s dƒõtmi v srdci ƒåesk√©ho r√°je, u Prachovsk√Ωch skal.">
    <meta name="twitter:image" content="https://www.example.com/obrazky/1.png">
    
    <style>
        :root {
            --primary-blue: #007bff;
            --text-color: #333;
            --background-color: #fff;
            --container-bg: #2570B8;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--container-bg);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            font-size: 18px;
            line-height: 1.6;
        }
        .container {
            background-color: var(--background-color);
            width: 960px;
            margin: 20px;
            padding: 0 20px 20px 20px;
            box-shadow: 0 0 15px rgba(0,0,0,0.2);
        }
        header {
            padding: 20px 0;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            background-color: var(--background-color);
            z-index: 100;
            border-bottom: 1px solid #eee;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        header h1 {
            margin: 0;
            font-size: 28px;
        }
        header h1 a {
            text-decoration: none;
            color: var(--text-color);
        }
        nav a {
            margin-left: 15px;
            text-decoration: none;
            color: var(--primary-blue);
            font-weight: bold;
        }
        nav a:hover {
            text-decoration: underline;
        }
        .content { display: none; }
        .content.active { display: block; }
        .info-box {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 20px;
            background-color: #f9f9f9;
        }
        .info-box p { margin: 5px 0; }
        .gallery {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }
        .gallery img {
            flex: 1 1 200px;
            max-width: 23.5%;
            height: auto;
            object-fit: cover;
            cursor: pointer;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s;
            display: block;
        }
        .gallery img:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .map-container { margin: 20px 0; }
        .map-container h3 { margin-top: 0; }
        .map-embed {
            width: 100%;
            height: 450px;
            border: 0;
        }
        .price-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .price-table th, .price-table td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        .price-table th { background-color: #f2f2f2; }
        .socials { text-align: center; margin: 20px 0; }
        footer {
            text-align: center;
            margin-top: 20px;
            padding-top: 10px;
            border-top: 1px solid #ccc;
            font-size: 14px;
            line-height: 1.8;
        }
        footer a { margin: 0 5px; }
        .bold { font-weight: bold; }
        .text-center { text-align: center; }
        .text-right { text-align: right; }

        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            overflow: hidden; background-color: rgba(0, 0, 0, 0.9);
        }
        .modal-content-wrapper {
            position: relative; height: 100%; width: 100%; display: flex; align-items: center; justify-content: center;
            overflow: auto;
        }
        .modal-content {
            margin: auto; display: block; max-width: 90%; max-height: 90%;
            transition: transform 0.3s ease-in-out; cursor: zoom-in;
        }
        .modal-content.zoom-1 { transform: scale(1.5); cursor: zoom-in; }
        .modal-content.zoom-2 { transform: scale(2.5); cursor: zoom-out; }
        .close {
            position: absolute; top: 15px; right: 35px; color: #f1f1f1; font-size: 40px; font-weight: bold;
            transition: 0.3s; cursor: pointer; z-index: 1001;
        }
        .close:hover, .close:focus { color: #bbb; }
        .prev, .next {
            cursor: pointer; position: absolute; top: 50%; width: auto; padding: 16px; margin-top: -50px;
            color: white; font-weight: bold; font-size: 30px; transition: 0.6s ease; border-radius: 0 3px 3px 0;
            user-select: none; -webkit-user-select: none; z-index: 1001;
        }
        .next { right: 0; border-radius: 3px 0 0 3px; }
        .prev { left: 0; }
        .prev:hover, .next:hover { background-color: rgba(0, 0, 0, 0.8); }

        #admin-toolbar { display: none; position: fixed; top: 0; left: 0; width: 100%; background: #2c3e50; color: white; padding: 10px; z-index: 9999; box-shadow: 0 2px 5px rgba(0,0,0,0.3); text-align: center;}
        #admin-toolbar button { background: #e74c3c; color: white; border: none; padding: 8px 15px; cursor: pointer; border-radius: 3px; margin: 0 10px; font-size: 16px; }
        #admin-toolbar button:hover { background: #c0392b; }
        .editable-text[contenteditable="true"] { outline: 2px dashed #3498db; }
        
        #login-modal { display: none; position: fixed; z-index: 10001; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.6); }
        #login-modal form { background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 400px; text-align: center; border-radius: 5px; }
        #login-modal input { width: 90%; padding: 12px 20px; margin: 8px 0; display: inline-block; border: 1px solid #ccc; box-sizing: border-box; }
        #login-modal button { background-color: #4CAF50; color: white; padding: 14px 20px; margin: 8px 0; border: none; cursor: pointer; width: 90%; }

        @media screen and (max-width: 768px) {
            body { font-size: 16px; }
            .container { width: 100%; margin: 0; padding: 0 10px 10px 10px; box-shadow: none; }
            header { flex-direction: column; align-items: flex-start; position: static; box-shadow: none; padding: 15px 0; }
            header h1 { margin-bottom: 10px; font-size: 24px;}
            nav { display: flex; justify-content: space-around; width: 100%;}
            nav a { margin: 5px 0; font-size: 14px;}
            .gallery img { max-width: 48%; flex-basis: 48%; }
            .price-table, .price-table thead, .price-table tbody, .price-table th, .price-table td, .price-table tr { display: block; }
            .price-table thead tr { position: absolute; top: -9999px; left: -9999px; }
            .price-table tr { border: 1px solid #ccc; margin-bottom: 10px; }
            .price-table td { border: none; border-bottom: 1px solid #eee; position: relative; padding-left: 50%; text-align: right; min-height: 30px;}
            .price-table td:before {
                content: attr(data-label); position: absolute; left: 10px; width: 45%; padding-right: 10px;
                white-space: nowrap; text-align: left; font-weight: bold;
            }
        }
    </style>
</head>
<body>
    <div id="admin-toolbar">
        <span>üîë Admin Mode is Active</span>
        <button onclick="logout()">Logout</button>
    </div>
    <div id="login-modal">
        <form onsubmit="handleLogin(event)">
            <h2>Admin Login</h2>
            <input type="email" id="email" value="admin@e-o-p.cz" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit">Login</button>
            <p style="font-size: 12px; color: #777;">Press Esc to close</p>
        </form>
    </div>

    <div class="container">
        <header>
            <h1><a href="#" onclick="showPage('home-cs', 'cs'); return false;">Eko-O√°za Prachov</a></h1>
            <nav id="nav-cs">
                <a href="#" onclick="showPage('main-cs', 'cs')">Provozn√≠ ≈ô√°d</a>
                <a href="#" onclick="showPage('places-cs', 'cs')">Zaj√≠mav√° m√≠sta</a>
                <a href="#" onclick="showPage('home-en', 'en')">English version</a>
            </nav>
            <nav id="nav-en" style="display:none;">
                <a href="#" onclick="showPage('main-en', 'en')">Operating rules</a>
                <a href="#" onclick="showPage('places-en', 'en')">Places of interest</a>
                <a href="#" onclick="showPage('home-cs', 'cs')">ƒåesk√° verze</a>
            </nav>
        </header>

        <main>
            <div id="lang-cs">
                <div id="home-cs" class="content active">
                    <div class="info-box editable-text" data-field="cs-info-box"></div>
                    <p class="editable-text" data-field="cs-intro"></p>
                    <div class="gallery">
                        <img src="obrazky/1.png" alt="Chatka zvenku" onclick="openModal(this)"><img src="obrazky/2.png" alt="Interi√©r chatky" onclick="openModal(this)"><img src="obrazky/3.png" alt="Interi√©r chatky" onclick="openModal(this)"><img src="obrazky/4.png" alt="Postel v chatce" onclick="openModal(this)">
                    </div>
                    <div class="map-container">
                        <h3 class="editable-text" data-field="cs-map-header"></h3>
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2547.453303681468!2d15.30429707702816!3d50.46468007159755!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470e9b3d0a623725%3A0x6b44c6888c3f4a31!2sPrachov%2058%2C%20506%2001%20Hol%C3%ADn!5e0!3m2!1sen!2scz!4v1670000000000!5m2!1sen!2scz" class="map-embed" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        <div class="editable-text" data-field="cs-map-text"></div>
                    </div>
                    <p class="editable-text" data-field="cs-socials-intro"></p>
                    <div class="gallery">
                        <img src="obrazky/5.png" alt="Exteri√©r" onclick="openModal(this)"><img src="obrazky/6.png" alt="Soci√°ln√≠ za≈ô√≠zen√≠" onclick="openModal(this)"><img src="obrazky/7.png" alt="Soci√°ln√≠ za≈ô√≠zen√≠" onclick="openModal(this)">
                    </div>
                    <p class="editable-text" data-field="cs-kitchen-intro"></p>
                    <div class="gallery">
                        <img src="obrazky/8.png" alt="Kuchy≈àka" onclick="openModal(this)"><img src="obrazky/9.png" alt="Kuchy≈àka interi√©r" onclick="openModal(this)"><img src="obrazky/10.png" alt="Kuchy≈àka interi√©r" onclick="openModal(this)"><img src="obrazky/11.png" alt="Okol√≠" onclick="openModal(this)">
                    </div>
                    <div class="text-center editable-text" data-field="cs-video-link"></div>
                    <div class="editable-text" data-field="cs-activities"></div>
                    <h3 class="text-center editable-text" data-field="cs-price-header"></h3>
                    <div class="editable-text" data-field="cs-price-table"></div>
                    <div class="socials editable-text" data-field="cs-facebook-link"></div>
                </div>
                <div id="main-cs" class="content">
                     <div class="info-box editable-text" data-field="cs-rules-info-box"></div>
                     <div class="editable-text" data-field="cs-rules-content"></div>
                </div>
                <div id="places-cs" class="content">
                     <div class="info-box editable-text" data-field="cs-places-info-box"></div>
                     <div class="editable-text" data-field="cs-places-intro"></div>
                     <h4 class="editable-text" data-field="cs-places-header-1"></h4>
                     <div class="gallery">
                        <img src="obrazky/12.png" alt="Prachovsk√© sk√°ly" onclick="openModal(this)"><img src="obrazky/13.png" alt="Prachovsk√© sk√°ly" onclick="openModal(this)"><img src="obrazky/14.png" alt="Prachovsk√© sk√°ly" onclick="openModal(this)"><img src="obrazky/15.png" alt="Prachovsk√© sk√°ly" onclick="openModal(this)"><img src="obrazky/16.png" alt="Prachovsk√© sk√°ly" onclick="openModal(this)">
                     </div>
                     <h4 class="editable-text" data-field="cs-places-header-2"></h4>
                     <div class="gallery">
                        <img src="obrazky/17.png" alt="Koup√°n√≠" onclick="openModal(this)"><img src="obrazky/18.png" alt="Koup√°n√≠" onclick="openModal(this)"><img src="obrazky/19.png" alt="Koup√°n√≠" onclick="openModal(this)"><img src="obrazky/20.png" alt="Koup√°n√≠" onclick="openModal(this)">
                     </div>
                     <h4 class="editable-text" data-field="cs-places-header-3"></h4>
                     <div class="gallery">
                        <img src="obrazky/21.png" alt="Hrad" onclick="openModal(this)"><img src="obrazky/22.png" alt="Hrad" onclick="openModal(this)"><img src="obrazky/23.png" alt="Z≈ô√≠cenina" onclick="openModal(this)"><img src="obrazky/24.png" alt="Z√°mek" onclick="openModal(this)"><img src="obrazky/25.png" alt="Z√°mek" onclick="openModal(this)"><img src="obrazky/26.png" alt="Hrad" onclick="openModal(this)"><img src="obrazky/27.png" alt="Hrad" onclick="openModal(this)"><img src="obrazky/28.png" alt="Jiƒç√≠n" onclick="openModal(this)">
                     </div>
                     <h4 class="editable-text" data-field="cs-places-header-4"></h4>
                     <div class="gallery">
                        <img src="obrazky/29.png" alt="Jiƒç√≠n" onclick="openModal(this)"><img src="obrazky/30.png" alt="Jiƒç√≠n" onclick="openModal(this)"><img src="obrazky/31.png" alt="Okol√≠" onclick="openModal(this)"><img src="obrazky/32.png" alt="Okol√≠" onclick="openModal(this)"><img src="obrazky/33.png" alt="Okol√≠" onclick="openModal(this)">
                     </div>
                </div>
            </div>
            <div id="lang-en" style="display:none;">
                <div id="home-en" class="content">
                    <div class="info-box editable-text" data-field="en-info-box"></div>
                    <p class="editable-text" data-field="en-intro"></p>
                    <div class="gallery">
                        <img src="obrazky/1.png" alt="Cottage exterior" onclick="openModal(this)"><img src="obrazky/2.png" alt="Cottage interior" onclick="openModal(this)"><img src="obrazky/3.png" alt="Cottage interior" onclick="openModal(this)"><img src="obrazky/4.png" alt="Bed in cottage" onclick="openModal(this)">
                    </div>
                    <div class="map-container">
                        <h3 class="editable-text" data-field="en-map-header"></h3>
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2547.453303681468!2d15.30429707702816!3d50.46468007159755!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470e9b3d0a623725%3A0x6b44c6888c3f4a31!2sPrachov%2058%2C%20506%2001%20Hol%C3%ADn!5e0!3m2!1sen!2scz!4v1670000000000!5m2!1sen!2scz" class="map-embed" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                        <div class="editable-text" data-field="en-map-text"></div>
                    </div>
                    <p class="editable-text" data-field="en-socials-intro"></p>
                    <div class="gallery">
                        <img src="obrazky/5.png" alt="Exterior" onclick="openModal(this)"><img src="obrazky/6.png" alt="Sanitary facilities" onclick="openModal(this)"><img src="obrazky/7.png" alt="Sanitary facilities" onclick="openModal(this)">
                    </div>
                    <p class="editable-text" data-field="en-kitchen-intro"></p>
                    <div class="gallery">
                        <img src="obrazky/8.png" alt="Kitchen" onclick="openModal(this)"><img src="obrazky/9.png" alt="Kitchen interior" onclick="openModal(this)"><img src="obrazky/10.png" alt="Kitchen interior" onclick="openModal(this)"><img src="obrazky/11.png" alt="Surroundings" onclick="openModal(this)">
                    </div>
                    <div class="text-center editable-text" data-field="en-video-link"></div>
                    <div class="editable-text" data-field="en-activities"></div>
                    <h3 class="text-center editable-text" data-field="en-price-header"></h3>
                    <div class="editable-text" data-field="en-price-table"></div>
                    <div class="socials editable-text" data-field="en-facebook-link"></div>
                </div>
                <div id="main-en" class="content">
                    <div class="info-box editable-text" data-field="en-rules-info-box"></div>
                    <div class="editable-text" data-field="en-rules-content"></div>
                </div>
                <div id="places-en" class="content">
                     <div class="info-box editable-text" data-field="en-places-info-box"></div>
                     <div class="editable-text" data-field="en-places-intro"></div>
                     <h4 class="editable-text" data-field="en-places-header-1"></h4>
                     <div class="gallery">
                        <img src="obrazky/12.png" alt="Prachov Rocks" onclick="openModal(this)"><img src="obrazky/13.png" alt="Prachov Rocks" onclick="openModal(this)"><img src="obrazky/14.png" alt="Prachov Rocks" onclick="openModal(this)"><img src="obrazky/15.png" alt="Prachov Rocks" onclick="openModal(this)"><img src="obrazky/16.png" alt="Prachov Rocks" onclick="openModal(this)">
                     </div>
                     <h4 class="editable-text" data-field="en-places-header-2"></h4>
                     <div class="gallery">
                        <img src="obrazky/17.png" alt="Swimming" onclick="openModal(this)"><img src="obrazky/18.png" alt="Swimming" onclick="openModal(this)"><img src="obrazky/19.png" alt="Swimming" onclick="openModal(this)"><img src="obrazky/20.png" alt="Swimming" onclick="openModal(this)">
                     </div>
                     <h4 class="editable-text" data-field="en-places-header-3"></h4>
                     <div class="gallery">
                        <img src="obrazky/21.png" alt="Castle" onclick="openModal(this)"><img src="obrazky/22.png" alt="Castle" onclick="openModal(this)"><img src="obrazky/23.png" alt="Ruin" onclick="openModal(this)"><img src="obrazky/24.png" alt="Chateau" onclick="openModal(this)"><img src="obrazky/25.png" alt="Chateau" onclick="openModal(this)"><img src="obrazky/26.png" alt="Castle" onclick="openModal(this)"><img src="obrazky/27.png" alt="Castle" onclick="openModal(this)"><img src="obrazky/28.png" alt="Jiƒç√≠n" onclick="openModal(this)">
                     </div>
                     <h4 class="editable-text" data-field="en-places-header-4"></h4>
                     <div class="gallery">
                        <img src="obrazky/29.png" alt="Jiƒç√≠n" onclick="openModal(this)"><img src="obrazky/30.png" alt="Jiƒç√≠n" onclick="openModal(this)"><img src="obrazky/31.png" alt="Surroundings" onclick="openModal(this)"><img src="obrazky/32.png" alt="Surroundings" onclick="openModal(this)"><img src="obrazky/33.png" alt="Surroundings" onclick="openModal(this)">
                     </div>
                </div>
            </div>
        </main>
        
        <footer id="footer-cs">
            Spolupr√°ce: 
            <a href="https://www.e-chalupy.cz/" target="_blank" rel="noopener noreferrer">e-chalupy.cz</a> 
            <a href="https://www.levneubytovani.net/" target="_blank" rel="noopener noreferrer">LevneUbytovani.net</a> 
            <a href="https://chalupy-ubytovani.cz/" target="_blank" rel="noopener noreferrer">chalupy-ubytovani.cz</a>
        </footer>
        <footer id="footer-en" style="display:none;">
            In cooperation with: 
            <a href="https://www.e-chalupy.cz/" target="_blank" rel="noopener noreferrer">e-chalupy.cz</a> 
            <a href="https://www.levneubytovani.net/" target="_blank" rel="noopener noreferrer">LevneUbytovani.net</a> 
            <a href="https://chalupy-ubytovani.cz/" target="_blank" rel="noopener noreferrer">chalupy-ubytovani.cz</a>
        </footer>
    </div>

    <div id="myModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
        <a class="next" onclick="plusSlides(1)">&#10095;</a>
        <div class="modal-content-wrapper" onclick="handleModalClick(event)">
             <img class="modal-content" id="img01" onclick="handleImageClick(event)">
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js"></script>

    <script id="main-script">
        const firebaseConfig = {
          apiKey: "PASTE_YOUR_API_KEY_HERE",
          authDomain: "PASTE_YOUR_AUTH_DOMAIN_HERE",
          projectId: "PASTE_YOUR_PROJECT_ID_HERE",
          storageBucket: "PASTE_YOUR_STORAGE_BUCKET_HERE",
          messagingSenderId: "PASTE_YOUR_SENDER_ID_HERE",
          appId: "PASTE_YOUR_APP_ID_HERE"
        };

        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        const modal = document.getElementById("myModal");
        const modalImg = document.getElementById("img01");
        const modalContentWrapper = document.querySelector(".modal-content-wrapper");
        const footerCS = document.getElementById("footer-cs");
        const footerEN = document.getElementById("footer-en");
        let currentImageIndex, currentGalleryImages, isAdmin = false;
        
        const loginModal = document.getElementById('login-modal');

        const seoData = {
            cs: { title: "Ubytov√°n√≠ Chaty Eko-O√°za Prachov | Dovolen√° v ƒåesk√©m r√°ji", description: "Nab√≠z√≠me levn√© ubytov√°n√≠ v chatk√°ch pro rodiny s dƒõtmi v srdci ƒåesk√©ho r√°je. Eko-O√°za Prachov je ide√°ln√≠ m√≠sto pro va≈°i dovolenou u Prachovsk√Ωch skal." },
            en: { title: "Eko-O√°za Prachov Cottages & Accommodation | Holiday in Bohemian Paradise", description: "Affordable cottage accommodation for families with children in the heart of Bohemian Paradise, Czech Republic. Eko-O√°za Prachov is the perfect place for your holiday near the Prachov Rocks." }
        };

        function updateSEO(lang) {
            document.title = seoData[lang].title;
            document.querySelector('meta[name="description"]').setAttribute('content', seoData[lang].description);
        }

        function showPage(pageId, lang) {
            document.documentElement.lang = lang;
            document.getElementById('lang-cs').style.display = lang === 'cs' ? 'block' : 'none';
            document.getElementById('lang-en').style.display = lang === 'en' ? 'block' : 'none';
            document.getElementById('nav-cs').style.display = lang === 'cs' ? 'flex' : 'none';
            document.getElementById('nav-en').style.display = lang === 'en' ? 'flex' : 'none';
            footerCS.style.display = lang === 'cs' ? 'block' : 'none';
            footerEN.style.display = lang === 'en' ? 'block' : 'none';
            
            updateSEO(lang);
            const langContainer = document.getElementById('lang-' + lang);
            langContainer.querySelectorAll('.content').forEach(section => section.classList.remove('active'));
            const activePage = document.getElementById(pageId);
            if (activePage) activePage.classList.add('active');
            else document.getElementById('home-' + lang).classList.add('active');
        }
        
        function openModal(element) {
            if (isAdmin) return;
            const parentGallery = element.closest('.gallery');
            currentGalleryImages = Array.from(parentGallery.querySelectorAll('img'));
            currentImageIndex = currentGalleryImages.indexOf(element);
            modal.style.display = "block";
            document.body.style.overflow = 'hidden';
            showImage(currentImageIndex);
        }

        function showImage(index) {
            modalImg.src = currentGalleryImages[index].src;
            modalImg.alt = currentGalleryImages[index].alt;
            modalImg.className = 'modal-content';
            modalContentWrapper.scrollTop = 0;
            modalContentWrapper.scrollLeft = 0;
        }

        function closeModal() {
            modal.style.display = "none";
            document.body.style.overflow = 'auto';
        }

        function plusSlides(n) {
            currentImageIndex = (currentImageIndex + n + currentGalleryImages.length) % currentGalleryImages.length;
            showImage(currentImageIndex);
        }

        function handleImageClick(event) {
            event.stopPropagation();
            const img = event.target;
            if (img.classList.contains('zoom-2')) {
                img.classList.remove('zoom-2', 'zoom-1');
            } else if (img.classList.contains('zoom-1')) {
                img.classList.add('zoom-2');
            } else {
                img.classList.add('zoom-1');
            }
        }

        function handleModalClick(event) {
            if (event.target === modalContentWrapper) closeModal();
        }

        auth.onAuthStateChanged(user => {
            isAdmin = !!user;
            if (isAdmin) enableAdminMode();
            else disableAdminMode();
        });

        async function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            try {
                await auth.signInWithEmailAndPassword(email, password);
                loginModal.style.display = 'none';
            } catch (error) {
                alert('Login failed: ' + error.message);
            }
        }

        async function logout() {
            await auth.signOut();
            location.reload();
        }

        function enableAdminMode() {
            document.getElementById('admin-toolbar').style.display = 'block';
            document.querySelectorAll('.editable-text').forEach(el => {
                el.contentEditable = true;
                el.addEventListener('blur', (e) => saveText(e.target));
            });
        }

        function disableAdminMode() {
            document.getElementById('admin-toolbar').style.display = 'none';
            document.querySelectorAll('.editable-text').forEach(el => el.contentEditable = false);
        }
        
        async function saveText(element) {
            const fieldId = element.dataset.field;
            const content = element.innerHTML;
            const docId = fieldId.startsWith('cs-') ? 'cs' : 'en';
            try {
                await db.collection('content').doc(docId).set({ [fieldId]: content }, { merge: true });
            } catch (error) {
                console.error("Error saving text:", error);
                alert("Could not save changes. Please check your connection and try again.");
            }
        }

        async function loadContent() {
            const loadDataForLang = async (lang) => {
                try {
                    const doc = await db.collection('content').doc(lang).get();
                    if (doc.exists) {
                        const data = doc.data();
                        document.querySelectorAll(`#lang-${lang} [data-field]`).forEach(el => {
                            if (data[el.dataset.field]) el.innerHTML = data[el.dataset.field];
                        });
                    }
                } catch (error) {
                    console.error("Error loading content for " + lang + ":", error);
                }
            };
            await Promise.all([loadDataForLang('cs'), loadDataForLang('en')]);
        }

        document.addEventListener('keydown', (event) => {
            if (event.ctrlKey && event.key === 'l') {
                event.preventDefault();
                loginModal.style.display = 'block';
                document.getElementById('password').focus();
            }
            if (event.key === "Escape") {
                if (modal.style.display === "block") closeModal();
                if (loginModal.style.display === 'block') loginModal.style.display = 'none';
            }
            if (modal.style.display === "block") {
                if (event.key === "ArrowLeft") plusSlides(-1);
                else if (event.key === "ArrowRight") plusSlides(1);
            }
        });

        document.addEventListener('DOMContentLoaded', async () => {
            showPage('home-cs', 'cs');
            await loadContent();
        });
    </script>
</body>
</html>